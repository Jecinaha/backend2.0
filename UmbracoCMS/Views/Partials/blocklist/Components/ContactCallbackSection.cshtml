

@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockListItem>
@using UmbracoCMS.ViewModels
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels

@{
    var content = (ContentModels.ContactCallbackSection)Model.Content;
    var settings = Model.Settings as ContentModels.ContactCallbackSettings;

    var formVM = new CallbackFormViewModel
    {
        Options = settings?.CallbackRequestOptions ?? []
    };
}

<section class="contact-section">
    <img src="@content.ContactFormBg?.Url()" alt="Background" class="contact-bg" />

    <div class="contact-container">
        <div class="contact-form-card">

            <!-- Innehåll ovanför formuläret -->
            <div class="contact-form-header">
                <p class="form-label">@content.ContactFormLabel</p>
                <h2 class="form-title">@content.ContactFormTitle</h2>
                <p class="form-text">@content.ContactFormText</p>
            </div>

            <!-- Formulär partial -->
            <partial name="Partials/Forms/_CallbackForm_ContactPage" model="formVM" />

            <!-- Success/Error -->
            @if (TempData["FormSuccess"] != null)
            {
                <div class="form-success">@TempData["FormSuccess"]</div>
            }
            else if (TempData["FormError"] != null)
            {
                <div class="form-error">@TempData["FormError"]</div>
            }

        </div>
    </div>
</section>
